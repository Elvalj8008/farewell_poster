<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦»èŒå¿«ä¹åº†ç¥</title>
    <style>
        @keyframes shake {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(8deg) scale(1.05); }
            50% { transform: rotate(0deg) scale(1); }
            75% { transform: rotate(-8deg) scale(1.05); }
            100% { transform: rotate(0deg) scale(1); }
        }

        @font-face {
            font-family: 'ArtFont';
            src: local('SimHei'), local('Microsoft YaHei');
        }

        body {
            font-family: 'ArtFont', 'SimHei', 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #fff;
            overflow-x: hidden;
        }

        .banner {
            width: 100%;
            max-width: 600px;
            height: 100vh; /* ä½¿ç”¨è§†å£é«˜åº¦ï¼Œç¡®ä¿ä¸€å±å±•ç¤º */
            margin: 0 auto;
            background-color: #ffeb3b; /* é»„è‰²åº•è‰² */
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            border: 8px solid #000;
            padding: 0;
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            cursor: pointer; /* æ·»åŠ æŒ‡é’ˆæ ·å¼ï¼Œæç¤ºå¯ç‚¹å‡» */
        }

        .header {
            background-color: #ffeb3b; /* é»„è‰² */
            color: #000;
            padding: 8px 0; /* å‡å°‘é«˜åº¦ */
            font-weight: bold;
            font-size: 3.5em;
            margin-bottom: 0;
            text-shadow: 2px 2px 0 #f44336;
            letter-spacing: 8px;
        }

        .subheader {
            background-color: #f44336; /* çº¢è‰² */
            color: #fff;
            padding: 6px 0; /* å‡å°‘é«˜åº¦ */
            font-size: 2.5em;
            margin-top: 0;
            margin-bottom: 0;
            font-weight: bold;
            text-shadow: 1px 1px 0 #000;
        }

        .photo-container {
            background-color: #000;
            padding: 4px; /* å‡å°‘å†…è¾¹è· */
            margin: 0;
            flex: 0 0 auto;
        }

        .photo-area {
            width: 90%;
            height: 23vh; /* å‡å°‘é«˜åº¦ */
            margin: 0 auto;
            border: 5px solid #f44336; /* çº¢è‰²è¾¹æ¡† */
            overflow: hidden;
            position: relative;
        }

        .photo-area img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            animation: shake 2s infinite ease-in-out; /* æ·»åŠ æ‰­åŠ¨æ•ˆæœ */
        }

        .main-message {
            background-color: #f44336; /* çº¢è‰² */
            color: #fff;
            padding: 6px 0; /* å‡å°‘é«˜åº¦ */
            font-size: 3.5em;
            font-weight: bold;
            margin-top: 0;
            text-shadow: 2px 2px 0 #000;
            letter-spacing: 15px;
        }

        .message-yellow {
            background-color: #ffeb3b; /* é»„è‰² */
            color: #000;
            padding: 4px 0; /* å‡å°‘é«˜åº¦ */
            font-size: 2.2em;
            margin: 0;
            font-weight: bold;
        }

        .wishes-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            overflow: hidden;
        }

        .wishes {
            margin: 0;
            padding: 0;
            width: 100%;
        }

        .wish {
            display: block;
            width: 100%;
            padding: 5px 0; /* å‡å°‘é«˜åº¦ */
            margin: 1px 0; /* å‡å°‘é—´éš” */
            font-weight: bold;
            font-size: 1.8em;
            animation: fadeIn 1s;
        }

        .message-blue {
            background-color: #1a237e; /* è“è‰² */
            color: #fff;
            padding: 5px 0; /* å‡å°‘é«˜åº¦ */
            font-size: 1.8em;
            margin: 1px 0; /* å‡å°‘é—´éš” */
            font-weight: bold;
            text-shadow: 1px 1px 0 #000;
        }

        .message-red {
            background-color: #f44336; /* çº¢è‰² */
            color: #fff;
            padding: 5px 0; /* å‡å°‘é«˜åº¦ */
            font-size: 1.8em;
            margin: 1px 0; /* å‡å°‘é—´éš” */
            font-weight: bold;
            text-shadow: 1px 1px 0 #000;
            white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ¢è¡Œ */
        }

        .danmaku-container {
            position: relative;
            width: 100%;
            height: 12vh; /* å¢åŠ å¼¹å¹•åŒºåŸŸé«˜åº¦ */
            margin: 2px 0; /* å‡å°‘è¾¹è· */
            overflow: hidden;
            background-color: rgba(0,0,0,0.8);
            flex: 0 0 auto;
        }

        .danmaku {
            position: absolute;
            white-space: nowrap;
            color: #fff;
            font-weight: bold;
            font-size: 22px; /* å‡å°å¼¹å¹•å­—ä½“ */
            text-shadow: 1px 1px 2px #000;
        }

        .danmaku-animation {
            animation: danmakuMove linear forwards;
        }

        .signature {
            margin-top: 2px; /* å‡å°‘è¾¹è· */
            padding: 6px; /* å‡å°‘å†…è¾¹è· */
            background-color: rgba(255,255,255,0.9);
            flex: 0 0 auto;
        }

        .footer {
            padding: 6px; /* å‡å°‘å†…è¾¹è· */
            font-size: 1.5em;
            color: #000;
            background-color: #ffeb3b; /* é»„è‰² */
            font-weight: bold;
            flex: 0 0 auto;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            animation: fall 5s linear infinite;
        }

        .music-control {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 100;
            background-color: rgba(255,255,255,0.7);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 20px;
        }

        .click-prompt {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.5em;
            z-index: 1000;
            animation: pulse 1.5s infinite;
            pointer-events: none; /* ä¸é˜»æŒ¡ç‚¹å‡»äº‹ä»¶ */
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }

        @keyframes fall {
            0% {transform: translateY(-100px) rotate(0deg); opacity: 1;}
            100% {transform: translateY(1000px) rotate(360deg); opacity: 0;}
        }

        @keyframes danmakuMove {
            from {left: 100%;}
            to {left: -100%;}
        }

        input, textarea, button {
            background-color: #ffeb3b;
            border: 2px solid #f44336;
            color: #000;
            padding: 6px; /* å‡å°‘å†…è¾¹è· */
            font-weight: bold;
            font-size: 1.2em;
        }

        button {
            cursor: pointer;
            background-color: #f44336;
            color: #fff;
            transition: all 0.3s;
            border: none;
            font-size: 1.3em;
        }

        button:hover {
            background-color: #d32f2f;
        }
    </style>
</head>
<body>
    <div class="banner" id="banner">
        <div class="header">çª å§ å‹‡ æ•¢ é£</div>
        <div class="subheader">æˆ‘ä»¬æ°¸ç›¸éš</div>

        <div class="photo-container">
            <div class="photo-area">
                <img src="1808154082734125095.png" alt="åŒäº‹ç…§ç‰‡">
            </div>
        </div>

        <div class="main-message">ç¦»èŒå¿«ä¹</div>
        <div class="message-yellow">æ¼‚äº®å®è´å„¿ä¸å¹²äº†</div>

        <div class="wishes-container">
            <div id="wishes" class="wishes">
                <!-- ç¥ç¦ä¼šé€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
            </div>
        </div>

        <div class="danmaku-container" id="danmakuContainer">
            <!-- å¼¹å¹•ä¼šåœ¨è¿™é‡Œæ˜¾ç¤º -->
        </div>

        <div class="signature">
            <h3 style="color: #000; margin: 2px; font-size: 1.5em;">ğŸ‘‹ æ·»åŠ ä½ çš„ç¥ç¦</h3>
            <input type="text" id="wishInput" placeholder="è¾“å…¥ä½ çš„ç¥ç¦è¯­..." style="width: 70%; margin-bottom: 2px;">
            <button onclick="addUserWish()" style="padding: 5px 15px;">å‘é€ç¥ç¦</button>
        </div>

        <div class="footer">
            äººç”Ÿå¤„å¤„æ˜¯èˆå° | 2025å¹´7æœˆ25æ—¥
        </div>

        <div class="music-control" id="musicControl" onclick="toggleMusic(event)">ğŸ”Š</div>
        <audio id="bgMusic" loop preload="auto">
            <source src="1286589960.mp3" type="audio/mpeg">
            <source src="https://freetyst.nf.migu.cn/public/product9th/product45/2022/07/2616/2009å¹´06æœˆ26æ—¥åšå°”æ™®æ–¯/æ­Œæ›²ä¸‹è½½/MP3_40_16_Stero/å¥½è¿æ¥-ç¥éš†.mp3" type="audio/mpeg">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
        </audio>

        <!-- æ·»åŠ ç‚¹å‡»æç¤º -->
        <div class="click-prompt" id="clickPrompt">ç‚¹å‡»ä»»æ„ä½ç½®æ’­æ”¾éŸ³ä¹</div>
    </div>

    <script>
        // å­˜å‚¨æ‰€æœ‰å¼¹å¹•æ–‡æœ¬ï¼Œç”¨äºå¾ªç¯æ˜¾ç¤º
        const allDanmakuTexts = [
            "å‰ç¨‹ä¼¼é”¦ï¼Œæœªæ¥å¯æœŸï¼",
            "è‡ªç”±çš„æ„Ÿè§‰çœŸå¥½~",
            "è€æ¿èˆä¸å¾—ä½ ï¼Œæˆ‘ä»¬æ›´èˆä¸å¾—ï¼",
            "è®°å¾—å¸¸å›æ¥çœ‹çœ‹æˆ‘ä»¬è¿™äº›è¿˜åœ¨æ¬ç –çš„äºº",
            "ä¸è¦å¿˜è®°æˆ‘ä»¬ä¸€èµ·åŠ ç­çš„æ—¥å­",
            "ç»ˆäºå¯ä»¥å¥½å¥½ç¡ä¸ªè§‰äº†",
            "ä¸‹ä¸€ç«™ï¼Œäººç”Ÿå·…å³°ï¼",
            "å¥½è¿è¿è¿ï¼Œè´¢æºæ»šæ»šï¼",
            "å‰æ–¹é«˜èƒ½ï¼Œå¤§ç‰›æ¥è¢­ï¼",
            "æ„¿ä½ æ‰€åˆ°ä¹‹å¤„ï¼Œçš†ä¸ºçƒ­åœŸï¼",
            "å±±é«˜æ°´é•¿ï¼Œåä¼šæœ‰æœŸï¼",
            "å·¥èµ„ç¿»å€ï¼Œå‡æœŸç¿»ç•ªï¼"
        ];

        // éŸ³ä¹æ˜¯å¦å·²ç»æ’­æ”¾è¿‡
        let musicPlayed = false;

        // é¡µé¢åŠ è½½
        window.onload = function() {
            // æ·»åŠ ç¥ç¦
            const wishesText = [
                { text: "ä»Šå¤©å¤šä¸€ä»½æ‹¼æ", color: "message-blue" },
                { text: "æ˜å¤©å¤šå…«ä¸ªç”·æ¨¡", color: "message-blue" },
                { text: "äººé—´ç™¾çµé¸ŸèŒåœºå¯Œè´µèŠ±", color: "message-red" },
                { text: "äººç”Ÿå¤„å¤„æ˜¯èˆå°", color: "message-red" },
                { text: "æœ‰é’±æœ‰åŠ¿æ²¡çƒ¦æ¼", color: "message-red" },
                { text: "é¡ºé£é¡ºæ°´é¡ºè´¢ç¥", color: "message-red" }
            ];

            const wishesContainer = document.getElementById('wishes');

            wishesText.forEach((item, index) => {
                setTimeout(() => {
                    const wish = document.createElement('div');
                    wish.className = `wish ${item.color}`;
                    wish.innerHTML = item.text;
                    wishesContainer.appendChild(wish);
                    // é¦–æ¬¡æ‰“å¼€æ—¶æ’’æ›´å¤šèŠ±ï¼ŒæŒç»­æ›´é•¿æ—¶é—´
                    createConfetti(30);
                }, 300 + index * 200);
            });

            // å¯åŠ¨æŒç»­å¼¹å¹•ç³»ç»Ÿ
            startContinuousDanmaku();

            // åˆå§‹æ’’èŠ±æ•ˆæœ
            setTimeout(() => {
                createConfetti(100); // å¤§é‡æ’’èŠ±
            }, 1000);

            // æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨åˆ°æ•´ä¸ªbanner
            document.getElementById('banner').addEventListener('click', function(event) {
                // å¦‚æœç‚¹å‡»çš„ä¸æ˜¯éŸ³ä¹æ§åˆ¶æŒ‰é’®ï¼Œåˆ™æ’­æ”¾éŸ³ä¹
                if (!event.target.closest('#musicControl')) {
                    playMusic();
                }
            });
        };

        // æ’­æ”¾éŸ³ä¹å‡½æ•°
        function playMusic() {
            if (musicPlayed) return; // å¦‚æœå·²ç»æ’­æ”¾è¿‡ï¼Œä¸å†æ‰§è¡Œ

            const bgMusic = document.getElementById('bgMusic');
            const clickPrompt = document.getElementById('clickPrompt');

            // å°è¯•æ’­æ”¾éŸ³ä¹
            bgMusic.play().then(() => {
                // æ’­æ”¾æˆåŠŸ
                musicPlayed = true;
                document.getElementById('musicControl').textContent = 'ğŸ”Š';

                // éšè—ç‚¹å‡»æç¤º
                if (clickPrompt) {
                    clickPrompt.style.display = 'none';
                }
            }).catch(e => {
                console.error('éŸ³ä¹æ’­æ”¾å¤±è´¥:', e);
            });
        }

        // æ§åˆ¶éŸ³ä¹æ’­æ”¾/æš‚åœ
        function toggleMusic(event) {
            // é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œé˜²æ­¢è§¦å‘bannerçš„ç‚¹å‡»äº‹ä»¶
            event.stopPropagation();

            const bgMusic = document.getElementById('bgMusic');
            const musicControl = document.getElementById('musicControl');

            if (bgMusic.paused) {
                bgMusic.play().then(() => {
                    musicControl.textContent = 'ğŸ”Š';
                    musicPlayed = true;

                    // éšè—ç‚¹å‡»æç¤º
                    const clickPrompt = document.getElementById('clickPrompt');
                    if (clickPrompt) {
                        clickPrompt.style.display = 'none';
                    }
                }).catch(e => {
                    console.error('æ’­æ”¾å¤±è´¥:', e);
                    alert('éŸ³ä¹æ’­æ”¾å¤±è´¥ï¼Œè¯·å†æ¬¡ç‚¹å‡»å°è¯•');
                });
            } else {
                bgMusic.pause();
                musicControl.textContent = 'ğŸ”‡';
            }
        }

        // æŒç»­å¼¹å¹•ç³»ç»Ÿ
        function startContinuousDanmaku() {
            // åˆå§‹åŒ–å¼¹å¹•æ˜¾ç¤º
            for (let i = 0; i < allDanmakuTexts.length; i++) {
                setTimeout(() => {
                    createDanmaku(allDanmakuTexts[i]);
                }, i * 800);
            }

            // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´é‡æ–°å‘é€ä¸€æ¡å¼¹å¹•
            setInterval(() => {
                // éšæœºé€‰æ‹©ä¸€æ¡å¼¹å¹•æ–‡æœ¬
                const randomIndex = Math.floor(Math.random() * allDanmakuTexts.length);
                createDanmaku(allDanmakuTexts[randomIndex]);
            }, 2000); // æ¯2ç§’å‘é€ä¸€æ¡
        }

        // æ·»åŠ äº”å½©çº¸å±‘æ•ˆæœ
        function createConfetti(count) {
            const banner = document.querySelector('.banner');
            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}%`;

                // ä½¿ç”¨ä¸»é¢˜é¢œè‰²
                const colors = ['#f44336', '#ffeb3b', '#1a237e'];
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

                // éšæœºå¤§å°
                const size = 5 + Math.random() * 10;
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;

                // éšæœºåŠ¨ç”»æŒç»­æ—¶é—´
                confetti.style.animationDuration = `${5 + Math.random() * 7}s`;
                banner.appendChild(confetti);

                // ç§»é™¤å…ƒç´ ä»¥é¿å…å†…å­˜æ³„æ¼
                setTimeout(() => {
                    confetti.remove();
                }, 10000); // å»¶é•¿åˆ°10ç§’
            }
        }

        // åˆ›å»ºå¼¹å¹•
        function createDanmaku(text) {
            const container = document.getElementById('danmakuContainer');
            const danmaku = document.createElement('div');
            danmaku.className = 'danmaku';
            danmaku.textContent = text;

            // éšæœºå‚ç›´ä½ç½®
            danmaku.style.top = `${Math.random() * 80}%`;

            // ä½¿ç”¨ä¸»é¢˜é¢œè‰²
            const colors = ['#f44336', '#ffeb3b', '#ffffff'];
            danmaku.style.color = colors[Math.floor(Math.random() * colors.length)];

            // è®¡ç®—åŠ¨ç”»æŒç»­æ—¶é—´ - æ ¹æ®æ–‡æœ¬é•¿åº¦è°ƒæ•´é€Ÿåº¦
            const duration = 8 + Math.random() * 4; // 8-12ç§’
            danmaku.style.animationDuration = `${duration}s`;

            // æ·»åŠ åˆ°å®¹å™¨
            container.appendChild(danmaku);

            // æ·»åŠ åŠ¨ç”»ç±»
            danmaku.classList.add('danmaku-animation');

            // åŠ¨ç”»ç»“æŸåç§»é™¤å¼¹å¹•
            danmaku.addEventListener('animationend', () => {
                danmaku.remove();
            });
        }

        // ç”¨æˆ·æ·»åŠ ç¥ç¦
        function addUserWish() {
            const wishInput = document.getElementById('wishInput');
            const text = wishInput.value.trim();

            if (text) {
                // åˆ›å»ºå¼¹å¹•
                createDanmaku(text);

                // å°†ç”¨æˆ·è¾“å…¥çš„å¼¹å¹•æ·»åŠ åˆ°å¼¹å¹•æ± ä¸­
                allDanmakuTexts.push(text);

                // æ¸…ç©ºè¾“å…¥æ¡†
                wishInput.value = '';

                // æ·»åŠ çº¸å±‘æ•ˆæœ
                createConfetti(30);

                // ç¡®ä¿æ–°æ·»åŠ çš„å¼¹å¹•ä¼šåœ¨åç»­å¾ªç¯ä¸­æ˜¾ç¤º
                console.log('æ–°å¼¹å¹•å·²æ·»åŠ åˆ°å¾ªç¯åºåˆ—ï¼Œå½“å‰å¼¹å¹•æ± å¤§å°:', allDanmakuTexts.length);
            }
        }

        // ç›‘å¬å›è½¦é”®
        document.getElementById('wishInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addUserWish();
            }
        });
    </script>
</body>
</html>
